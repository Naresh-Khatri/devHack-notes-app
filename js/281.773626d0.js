"use strict";(self["webpackChunkd2c_notes_frontend"]=self["webpackChunkd2c_notes_frontend"]||[]).push([[281],{3776:(e,o,t)=>{t.d(o,{Z:()=>a});const l=[{id:"coding",name:"Coding",text:"Coding  ðŸ‘©â€ðŸ’»",icon:"icon-circle-check",color:"#e34724",textColor:"#fff",textBackground:"#ffc107"},{id:"gaming",name:"Gaming",text:"Gaming  ðŸŽ®",icon:"icon-circle-check",color:"#3267c1",textColor:"#fff",textBackground:"#ffc107"},{id:"cooking",name:"Cooking",text:"Cooking  ðŸ³",icon:"icon-circle-check",color:"#ff5722",textColor:"#fff",textBackground:"#ff5722"},{id:"sports",name:"Sports",text:"Sports  ðŸ€",icon:"icon-circle-check",color:"#00c851",textColor:"#fff",textBackground:"#00c851"},{id:"music",name:"Music",text:"Music  ðŸŽ§",icon:"icon-circle-check",color:"#3f51b5",textColor:"#fff",textBackground:"#3f51b5"},{id:"reading",name:"Reading",text:"Reading  ðŸ“š",icon:"icon-circle-check",color:"#ff5722",textColor:"#fff",textBackground:"#ff5722"},{id:"travel",name:"Travel",text:"Travel  ðŸŒ",icon:"icon-circle-check",color:"#ff5722",textColor:"#fff",textBackground:"#ff5722"},{id:"art",name:"Art",text:"Art  ðŸŽ¨",icon:"icon-circle-check",color:"#ff5722",textColor:"#fff",textBackground:"#ff5722"},{id:"photography",name:"Photography",text:"Photography  ðŸ“·",icon:"icon-circle-check",color:"#ff5722",textColor:"#fff",textBackground:"#ff5722"},{id:"dancing",name:"Dancing",text:"Dancing  ðŸ•º",icon:"icon-circle-check",color:"#ff5722",textColor:"#fff",textBackground:"#ff5722"},{id:"youtube",name:"Youtube",text:"Youtube  ðŸ“º",icon:"icon-circle-check",color:"#ff5722",textColor:"#fff",textBackground:"#ff5722"},{id:"social media",name:"Social Media",text:"Social Media  ðŸ“±",icon:"icon-circle-check",color:"#ff5722",textColor:"#fff",textBackground:"#ff5722"}],a=l},3313:(e,o,t)=>{t.d(o,{Z:()=>a});const l=[{id:"online",name:"Online",color:"#00c851",icon:"icon-circle-check",text:"ðŸŸ¢ Online",textColor:"#fff",textBackground:"#00c851",textBackgroundColor:"#00c851",textBackgroundOpacity:.5},{id:"gaming",name:"Gaming",color:"#3267c1",text:"ðŸŽ® Gaming",textColor:"#fff",textBackground:"#ffc107",textBackgroundColor:"#ffc107",textBackgroundOpacity:.5},{id:"class",name:"Class",color:"#e34724",icon:"icon-circle-check",text:"ðŸŽ¬ Class",textColor:"#fff",textBackground:"#ffc107",textBackgroundColor:"#ffc107",textBackgroundOpacity:.5},{id:"away",name:"Away",color:"#ffc107",icon:"icon-circle-check",text:"ðŸ™†â€â™€ï¸ Away",textColor:"#fff",textBackground:"#ffc107",textBackgroundColor:"#ffc107",textBackgroundOpacity:.5},{id:"dnd",name:"Do not disturb",color:"#ff5722",icon:"icon-circle-check",text:"ðŸ¤¨ Do not disturb",textColor:"#fff",textBackground:"#ff5722",textBackgroundColor:"#ff5722",textBackgroundOpacity:.5},{id:"offline",name:"Offline",color:"#bdbdbd",icon:"icon-circle-check",text:"ðŸ¤š Offline",textColor:"#fff",textBackground:"#bdbdbd",textBackgroundColor:"#bdbdbd",textBackgroundOpacity:.5},{id:"busy",name:"Busy",color:"#ff9800",icon:"icon-circle-check",text:"ðŸ‘·â€â™€ï¸ Busy",textColor:"#fff",textBackground:"#ff9800",textBackgroundColor:"#ff9800",textBackgroundOpacity:.5}],a=l},7951:(e,o,t)=>{t.d(o,{Z:()=>a});const l=[{id:"facebook",name:"Facebook",icon:"fab fa-facebook",color:"#3b5998"},{id:"instagram",name:"Instagram",icon:"fab fa-instagram",color:"#8a3ab9"},{id:"snapchat",name:"Snapchat",icon:"fab fa-snapchat",color:"#a5a200"},{id:"github",name:"Github",icon:"fab fa-github",color:"#000000"},{id:"telegram",name:"Telegram",icon:"fab fa-telegram",color:"#229ED9"},{id:"twitter",name:"Twitter",icon:"fab fa-twitter",color:"#00acee"}],a=l},4281:(e,o,t)=>{t.r(o),t.d(o,{default:()=>X});var l=t(3673),a=t(1959),c=t(8880),i=t(2323),n=(t(52),t(5474));t(71);const r=(0,l._)("div",{class:"text-h5 text-bold q-mb-md"},"Edit Profile",-1),s={key:0,class:"flex flex-center"},d={for:"file",style:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",position:"relative",height:"150px",width:"100%",border:"2px dashed black"}},u=(0,l._)("p",{style:{"font-size":"20px"},class:"text-caption"},"Upload a profile pic ðŸ˜ŽðŸ‘Œ",-1);function f(e,o,t,a,c,i){const n=(0,l.up)("q-btn"),f=(0,l.up)("q-card-actions"),g=(0,l.up)("q-card-section"),m=(0,l.up)("q-icon"),p=(0,l.up)("preview"),x=(0,l.up)("cropper"),h=(0,l.up)("q-card"),k=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(k,{ref:"dialog",onHide:a.onDialogHide},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{class:"q-dialog-plugin"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[r,""!=a.newProfilePic?((0,l.wg)(),(0,l.j4)(f,{key:0,align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{color:"primary",icon:"upload",label:"upload",onClick:a.uploadProfilePic},null,8,["onClick"])])),_:1})):(0,l.kq)("",!0)])),_:1}),(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[""==a.newProfilePic?((0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("input",{style:{opacity:"0",position:"absolute",height:"0.1px",width:"0.1px"},type:"file",id:"file",name:"profilePic",accept:"image/*",onChange:o[0]||(o[0]=(...e)=>a.onFileChange&&a.onFileChange(...e))},null,32),(0,l._)("label",d,[(0,l.Wm)(m,{name:"fas fa-image",color:"primary",size:"xl"}),u])])):(0,l.kq)("",!0),a.result.image?((0,l.wg)(),(0,l.iD)("div",{key:1,style:{width:"100%","justify-content":"center"},class:"flex items-start",onClick:o[1]||(o[1]=(...e)=>a.removeImg&&a.removeImg(...e))},[(0,l.Wm)(p,{width:120,height:120,image:a.result.image,coordinates:a.result.coordinates},null,8,["image","coordinates"]),(0,l.Wm)(n,{icon:"fas fa-trash",round:"",color:"negative"})])):(0,l.kq)("",!0),(0,l.Wm)(x,{ref:"cropper",class:"cropper",src:a.newProfilePic,debounce:!1,"stencil-props":{aspectRatio:1},onChange:a.onChange},null,8,["src","onChange"])])),_:1})])),_:1})])),_:1},8,["onHide"])}var g=t(3617),m=t(9582),p=t(8825),x=t(6041);const h={components:{Cropper:x.fl,Preview:x.MB},emits:["ok","hide"],setup(e,{emit:o}){const t=(0,p.Z)(),c=(0,g.oR)(),i=((0,m.tv)(),(0,a.iH)(null)),r=(0,a.iH)(""),s=(0,a.iH)(""),d=(0,a.iH)(null),u=(0,a.iH)({image:"",coordinates:{x:0,y:0,width:0,height:0}}),f=(0,l.Fl)((()=>c.state.userData)),x=()=>{i.value.show()},h=e=>{u.value={image:e.image,coordinates:e.coordinates}},k=(e,o,t,l)=>new Promise(((a,c)=>{const i=document.createElement("canvas"),n=new Image;n.src=e,n.onload=()=>{const e=i.getContext("2d");e.drawImage(n,0,0);let c=n.width,r=n.height;c>r?c>o&&(r*=o/c,c=o):r>t&&(c*=t/r,r=t),i.width=c,i.height=r,e.drawImage(n,0,0,c,r);const s=i.toDataURL("image/jpeg",l);a(s)}})),w=e=>{console.log("load started"),t.loading.show({delay:400,message:"Uploading your image... ðŸ˜Ž",boxClass:"bg-grey-2 text-grey-9"}),s.value=e.target.files[0].name;const o=new FileReader;o.readAsDataURL(e.target.files[0]),console.log("load started"),o.onload=async e=>{const o=await k(e.target.result,1200,1200,1);r.value=o,t.loading.hide()}},b=()=>{s.value="",r.value="",u.value={}},y=()=>{const{canvas:e}=d.value.getResult();e.toBlob((async e=>{console.log("blob",(e.size/1048576).toFixed(2)+" MB");const o=new FormData;o.append("uid",f.value.uid),o.append("imgName",s.value),o.append("profilePic",e),t.loading.show({delay:400,message:"Uploading your image... ðŸ˜Ž",boxClass:"bg-grey-2 text-grey-9"});try{const e=await n.api.post("/user/uploadProfilePic",o);console.log(e),f.value.customProfilePic||(console.log("new user"),c.commit("setCustomPhotoURL",{newCustomProfilePic:!0,user:f})),c.commit("addPhotoUrlParams",{}),t.loading.hide(),C()}catch(l){console.log(l)}}))},C=()=>{i.value.hide()},v=()=>{o("hide")},q=()=>{o("ok"),C()},B=()=>{C()};return{show:x,hide:C,user:f,dialog:i,onDialogHide:v,onOKClick:q,onCancelClick:B,onChange:h,onFileChange:w,cropper:d,uploadProfilePic:y,newProfilePic:r,result:u,removeImg:b}}};var k=t(4260),w=t(5877),b=t(151),y=t(5589),C=t(9367),v=t(8240),q=t(4554),B=t(7518),_=t.n(B);const P=(0,k.Z)(h,[["render",f]]),D=P;_()(h,"components",{QDialog:w.Z,QCard:b.Z,QCardSection:y.Z,QCardActions:C.Z,QBtn:v.Z,QIcon:q.Z});var S=t(3313),U=t(3776),Z=t(7951);const W={style:{width:"750px"}},H=(0,l._)("div",{class:"text-h4 text-bold"},"Profile",-1),j=(0,l._)("div",{class:"q-mt-xl text-h4 text-bold"},"Personal Stuff",-1),Q=(0,l._)("div",{class:"text-grey-7 text-subtitle"},"My status",-1),O=["onClick"],I=["onClick"],R=(0,l._)("div",{class:"text-grey-7 text-subtitle"},"My interests",-1),F={class:"q-gutter-xs text-black"},z=(0,l._)("div",{class:"q-mt-xl text-h4 text-bold"},"Social accouts",-1),A={key:0,class:"text-subtitle"},M={key:0},V=(0,l._)("div",{class:"q-mt-xl text-h4 text-bold"},"General",-1),T={class:"row"},G={setup(e){const o=(0,g.oR)(),t=(0,p.Z)(),r=(0,a.iH)(S.Z),s=(0,a.iH)(U.Z),d=(0,a.iH)("online"),u=(0,a.iH)(""),f=(0,a.iH)("https://"),m=(0,a.iH)("John"),x=(0,l.Fl)((()=>o.state.userData));setTimeout((()=>{m.value=x.value.name}),2e3);const h=(0,l.Fl)((()=>{const e=s;return e.value.sort((()=>.5-Math.random())).slice(0,4)}));(0,l.bv)((async()=>{try{setTimeout((()=>{}),0)}catch(e){console.log(e)}}));const k=()=>{t.dialog({component:D}).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))},w=()=>{t.notify({color:"positive",textColor:"white",position:"top-right",message:`Added ${u.value}`})},b=()=>{n.api.put("/user/changeUserName",{uid:x.value.uid,newName:m.value}).then((e=>{})).catch((e=>{}))},y=e=>{console.log("setting"),d.value=e,o.commit("setUserStatus",e),n.api.post("/user/changeStatus",{status:e,uid:x.value.uid}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))};return(e,o)=>{const t=(0,l.up)("q-img"),n=(0,l.up)("q-btn"),s=(0,l.up)("q-card-section"),d=(0,l.up)("q-chip"),g=(0,l.up)("q-scroll-area"),p=(0,l.up)("q-badge"),C=(0,l.up)("q-icon"),v=(0,l.up)("q-input"),q=(0,l.up)("q-page");return(0,a.SU)(x)?((0,l.wg)(),(0,l.j4)(q,{key:0,class:"bg-white q-pa-md q-mb-md flex column items-center"},{default:(0,l.w5)((()=>[(0,l._)("div",W,[H,(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(t,{class:"shadow-10",src:(0,a.SU)(x).photoURL,style:{"border-radius":"50%",width:"200px",height:"200px"}},null,8,["src"]),(0,l.Wm)(n,{class:"q-ml-xl",label:"change",onClick:k})])),_:1}),j,(0,l.Wm)(s,{class:"q-pt-xl"},{default:(0,l.w5)((()=>[Q,(0,l.Wm)(g,{style:{height:"60px","max-width":"90vw","white-space":"nowrap"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.value,((e,o)=>((0,l.wg)(),(0,l.iD)("span",{onClick:o=>y(e.id),key:o},[(0,l.Wm)(c.uT,{appear:"","enter-active-class":"animated bounceIn"},{default:(0,l.w5)((()=>[e.id==(0,a.SU)(x).status?((0,l.wg)(),(0,l.j4)(d,{key:0,label:e.text,color:e.color,"text-color":e.textColor,size:"17px",style:(0,i.j5)({background:e.color,color:e.textColor}),class:(0,i.C_)(["q-mr-sm",(0,a.SU)(x).status==e.id?"shadow-10":"disabled"])},null,8,["label","color","text-color","style","class"])):(0,l.kq)("",!0)])),_:2},1024)],8,O)))),128)),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(r.value,((e,o)=>((0,l.wg)(),(0,l.iD)("span",{onClick:o=>y(e.id),key:o},[e.id!==(0,a.SU)(x).status?((0,l.wg)(),(0,l.j4)(d,{key:0,label:e.text,color:e.color,"text-color":e.textColor,size:"17px",class:"q-mr-sm shadow-10",style:(0,i.j5)([{opacity:"0.6",cursor:"pointer"},`background: ${e.color}; color: ${e.textColor}`])},null,8,["label","color","text-color","style"])):(0,l.kq)("",!0)],8,I)))),128))])),_:1}),R,(0,l._)("div",F,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,a.SU)(h),((e,o)=>((0,l.wg)(),(0,l.j4)(d,{key:o,label:e.text,color:e.color,"text-color":e.textColor,size:"17px",style:(0,i.j5)({background:e.color,color:e.textColor}),class:"q-mr-sm shadow-10"},null,8,["label","color","text-color","style"])))),128))])])),_:1}),z,(0,l.Wm)(s,{class:"q-pt-lg"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,a.SU)(Z.Z),((e,o)=>((0,l.wg)(),(0,l.j4)(C,{key:o,style:(0,i.j5)([{opacity:"1"},`color: ${e.color};opacity: ${u.value&&u.value==e.name?1:.5}`]),name:e.icon,size:"xl",class:"q-mr-sm q-pa-sm q-mt-lg",onClick:o=>u.value=e.name},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{rounded:"",color:"negative",floating:"",label:"âŒ"})])),_:2},1032,["style","name","onClick"])))),128)),u.value?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("span",A,"click to add")),(0,l.Wm)(c.uT,{appear:"","enter-active-class":"animated zoomInDown","enter-leave-class":"animated zoomOutDown"},{default:(0,l.w5)((()=>[u.value?((0,l.wg)(),(0,l.iD)("div",M,[(0,l.Wm)(v,{class:"q-ma-md",modelValue:f.value,"onUpdate:modelValue":o[1]||(o[1]=e=>f.value=e),label:`Add ${u.value} profile URL`},{append:(0,l.w5)((()=>[""!==f.value?((0,l.wg)(),(0,l.j4)(C,{key:0,name:"close",onClick:o[0]||(o[0]=e=>u.value=""),class:"cursor-pointer"})):(0,l.kq)("",!0)])),_:1},8,["modelValue","label"]),(0,l.Wm)(n,{style:{float:"right"},class:"q-my-sm",label:"Save",onClick:w})])):(0,l.kq)("",!0)])),_:1})])),_:1}),V,(0,l.Wm)(s,{style:{"margin-bottom":"400px"}},{default:(0,l.w5)((()=>[(0,l._)("div",T,[(0,l.Wm)(v,{class:"col q-mr-md q-my-xl",label:"Full name",modelValue:m.value,"onUpdate:modelValue":o[2]||(o[2]=e=>m.value=e)},null,8,["modelValue"])]),(0,l.Wm)(v,{label:"Email",class:"q-my-sm",disable:"",modelValue:(0,a.SU)(x).email,"onUpdate:modelValue":o[3]||(o[3]=e=>(0,a.SU)(x).email=e)},null,8,["modelValue"]),(0,a.SU)(x).name!=m.value?((0,l.wg)(),(0,l.j4)(n,{key:0,style:{float:"right"},class:"q-my-sm",label:"Save",onClick:b})):(0,l.kq)("",!0)])),_:1})])])),_:1})):(0,l.kq)("",!0)}}};var Y=t(4379),$=t(4027),K=t(7704),L=t(7030),E=t(9721),N=t(2426);const J=G,X=J;_()(G,"components",{QPage:Y.Z,QCardSection:y.Z,QImg:$.Z,QBtn:v.Z,QScrollArea:K.Z,QChip:L.Z,QIcon:q.Z,QBadge:E.Z,QInput:N.Z})}}]);